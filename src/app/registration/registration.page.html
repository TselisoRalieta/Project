<ion-header translucent="true"></ion-header>

<ion-content class="auth-content ion-padding">
  <!-- Centered Icon -->
  <div class="icon-container">
    <ion-icon 
      class="page-icon"
      [name]="isLogin ? 'person-circle-outline' : 'person-add-outline'">
    </ion-icon>

    <!-- Welcome message for Sign In -->
    <div *ngIf="isLogin" class="welcome-message">
      <h2>Welcome Back!</h2>
      <p>Please log in to continue</p>
    </div>
  </div>

  <br><br>

  <!-- Login Form -->
  <form *ngIf="isLogin" class="login-form" (ngSubmit)="login()" #loginForm="ngForm">
    <ion-input 
      placeholder="Email" 
      fill="outline"
      type="email"
      [(ngModel)]="email"
      name="email"
      required>
      <ion-icon slot="start" name="mail-outline"></ion-icon>
    </ion-input>

    <ion-item lines="none">
      <ion-input
        placeholder="Password"
        fill="outline"
        [type]="showPassword ? 'text' : 'password'"
        [(ngModel)]="password"
        name="password"
        required>
      </ion-input>
      <ion-icon 
        slot="end" 
        name="{{ showPassword ? 'eye-off-outline' : 'eye-outline' }}" 
        (click)="togglePassword()" 
        style="font-size: 1.4rem; cursor: pointer;">
      </ion-icon>
    </ion-item>

    <br><br>
    <ion-button expand="block" class="action-button" shape="round" type="submit">
      Log In
    </ion-button>

    <!-- Bottom link -->
    <div class="auth-footer">
      <p>Don't have an account? <a (click)="toggleForm()">Register Now</a></p>
    </div>
  </form>

  <!-- Registration Form -->
  <form *ngIf="!isLogin" class="signup-form" (ngSubmit)="register()" #signupForm="ngForm">
    <div class="name-fields">
      <ion-input
        placeholder="First Name"
        fill="outline"
        [(ngModel)]="firstName"
        name="firstName"
        required>
        <ion-icon slot="start" name="person-outline"></ion-icon>
      </ion-input>

      <ion-input
        placeholder="Last Name"
        fill="outline"
        [(ngModel)]="lastName"
        name="lastName"
        required>
        <ion-icon slot="start" name="person-outline"></ion-icon>
      </ion-input>
    </div>

    <ion-input
      placeholder="Email"
      fill="outline"
      type="email"
      [(ngModel)]="email"
      name="email"
      required>
      <ion-icon slot="start" name="mail-outline"></ion-icon>
    </ion-input>

    <ion-input
      placeholder="Contacts"
      fill="outline"
      type="text"
      [(ngModel)]="contacts"
      name="contacts">
      <ion-icon slot="start" name="call-outline"></ion-icon>
    </ion-input>

    <ion-input
      placeholder="Location"
      fill="outline"
      type="text"
      [(ngModel)]="location"
      name="location">
      <ion-icon slot="start" name="location-outline"></ion-icon>
    </ion-input>

    <ion-item lines="none">
      <ion-input
        placeholder="Password"
        fill="outline"
        [type]="showPassword ? 'text' : 'password'"
        [(ngModel)]="password"
        name="password"
        required>
      </ion-input>
      <ion-icon 
        slot="end" 
        name="{{ showPassword ? 'eye-off-outline' : 'eye-outline' }}" 
        (click)="togglePassword()" 
        style="font-size: 1.4rem; cursor: pointer;">
      </ion-icon>
    </ion-item>

    <ion-item lines="none">
      <ion-checkbox slot="start"></ion-checkbox>
      <ion-label>
        I would like to receive your newsletter and other promotional information.
      </ion-label>
    </ion-item>

    <ion-button expand="block" class="action-button" shape="round" type="submit" [routerLink]="['/dashbourd']">
      Sign Up
    </ion-button>

    <!-- Bottom link -->
    <div class="auth-footer">
      <p>Already have an account? <a (click)="toggleForm()">Login Now</a></p>
    </div>
  </form>
</ion-content>
